<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>NoelleLiebe</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- font awesome cdn -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <!-- fonts -->
        <link rel = "stylesheet" href = "font/fonts.css">
        <!-- normalize css -->
        <link rel = "stylesheet" href = "css/normalize.css">
        <!-- custom css -->
        <link rel = "stylesheet" href = "css/utility.css">
        <link rel = "stylesheet" href = "css/style.css">
        <link rel = "stylesheet" href = "css/responsive.css">
    </head>
    <body>
        <!-- navbar  -->
        <nav class = "navbar">
            <div class = "container flex">
                <a href = "#" class = "site-brand" style="pointer-events:none; cursor:default;">
                    Noelle<span>Liebe</span>
                </a>

                <button type = "button" id = "navbar-show-btn" class = "flex">
                    <i class = "fas fa-bars"></i>
                </button>
                <div id = "navbar-collapse">
                    <button type = "button" id = "navbar-close-btn" class = "flex">
                        <i class = "fas fa-times"></i>
                    </button>
                    <ul class = "navbar-nav">
                        <li class = "nav-item">
                            <a href = "index.html" class = "nav-link">Home</a>
                        </li>
                        <li class = "nav-item">
                            <a href = "gallery.html" class = "nav-link">Gallery</a>
                        </li>
                        <li class = "nav-item">
                            <a href = "blog.html" class = "nav-link">Blog</a>
                        </li>
                        <li class = "nav-item">
                            <a href = "about.html" class = "nav-link">About</a>
                        </li>
                        <li class = "nav-item">
                            <a href = "contact.html" class = "nav-link">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- end of navbar  -->

        <!-- header -->
        <header class = "flex">
            <div class = "container">
                <div class = "header-title">
                    <h1>Heart of December</h1>
                    <p>Have yourself a merry little Christmas ~</p>
                </div>
                <div class = "header-form">
                    <div id="count"></div>
                    <script>
                    const count = document.getElementById("count");
                    
                    function updateCountdown() {
                        const now = new Date();
                        const year = now.getFullYear();
                        const christmas = new Date(year, 11, 25); // 25 Desember
                        const end = new Date(year + 1, 0, 5, 23, 59, 59); // 5 Januari (tahun berikutnya)
                        
                        // kalau udah di antara 25 Des dan 5 Jan â†’ "It's Christmas time!"
                        if (now >= christmas && now <= end) {
                            count.textContent = "It's Christmas time! ðŸŽ„";
                            return;
                        }
                        
                        // kalau udah lewat 5 Jan â†’ hitung ke Natal tahun berikutnya
                        if (now > end) {
                            christmas.setFullYear(year + 1);
                        }
                        
                        let diff = christmas - now;
                        const d = Math.floor(diff / 864e5);
                        const h = Math.floor(diff / 36e5) % 24;
                        const m = Math.floor(diff / 6e4) % 60;
                        const s = Math.floor(diff / 1e3) % 60;
                        
                        count.textContent = `${d} days, ${h} hours, ${m} minutes, ${s} seconds till Christmas`;
                    }
                    
                    updateCountdown();
                    setInterval(updateCountdown, 1000);
                    </script>
                </div>
            </div>
        </header>
        <!-- header -->

        <!-- featured section -->
        <section id = "featured" class = "py-4">
            <div class = "container">
                <div class = "title-wrap">
                    <span class = "sm-title">feel the magic before christmas</span>
                    <h2 class = "lg-title">holiday favorites</h2>
                </div>

                <div class = "featured-row">
                    <div class = "featured-item my-2 shadow">
                        <img src = "images/playlist.jpg" alt = "featured place">
                        <div class = "featured-item-content">
                            <span>
                                <i class = "fas fa-headphones"></i>
                                Playlist
                            </span>
                            <div>
                                <p class = "text">My daily Spotify jams that bring the cozy, chilly Christmas vibes</p>
                            </div>
                        </div>
                    </div>

                    <div class = "featured-item my-2 shadow">
                        <img src = "images/movies.jpg" alt = "featured place">
                        <div class = "featured-item-content">
                            <span>
                                <i class="fas fa-film"></i>
                                Movies
                            </span>
                            <div>
                                <p class = "text">A nostalgic collection of my favorite films and cartoons</p>
                            </div>
                        </div>
                    </div>

                    <div class = "featured-item my-2 shadow">
                        <img src = "images/net.jpg" alt = "featured place">
                        <div class = "featured-item-content">
                            <span>
                                <i class = "fas fa-photo-video"></i>
                                Net Collections
                            </span>
                            <div>
                                <p class = "text">Pretty photos and videos I found online</p>
                            </div>
                        </div>
                    </div>

                    <div class = "featured-item my-2 shadow">
                        <img src = "images/scenes.jpg" alt = "featured place">
                        <div class = "featured-item-content">
                            <span>
                                <i class = "fas fa-star"></i>
                                Scenes
                            </span>
                            <div>
                                <p class = "text">Screenshots of magical movie moments</p>
                            </div>
                        </div>
                    </div>

                    <div class = "featured-item my-2 shadow">
                        <img src = "images/captures.jpg" alt = "featured place">
                        <div class = "featured-item-content">
                            <span>
                                <i class = "fas fa-camera-retro"></i>
                                My Captures
                            </span>
                            <div>
                                <p class = "text">Snaps I took while exploring Christmas stores</p>
                            </div>
                        </div>
                    </div>

                    <div class = "featured-item my-2 shadow">
                        <img src = "images/decor.jpg" alt = "featured place">
                        <div class = "featured-item-content">
                            <span>
                                <i class = "fas fa-shopping-cart"></i>
                                Decor Ideas
                            </span>
                            <div>
                                <p class = "text">Wishlist, inspiration for gifts and festive decor</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- end of featured section -->

        <!-- services section -->
        <section id = "services" class = "py-4">
            <div class = "container">
                <div class = "title-wrap">
                    <span class = "sm-title">a little space to share your thoughts</span>
                    <!--<h2 class = "lg-title">Our services</h2>-->
                </div>

                <div class = "services-row">
                    <div class = "services-item">
                        <span class = "services-icon">
                            <i class="far fa-envelope"></i>
                        </span>
                        <h3>Anonym Letters</h3>
                        <p class = "text">Hii, you did great this year fr! If there's something little rant, your wishlist, your hopes for next year, or just random thoughts you kept to urself. You can drop it here > <</p>
                        <div id="wall" class="space-y-4 mb-6">
                            <form id="msgForm">
                              <input type="text" id="nick" placeholder="Nickname (optional)" class="border p-2 rounded w-full mb-2">
                              <textarea id="msg" placeholder="Your message..." class="border p-2 rounded w-full mb-2" required></textarea>
                              <button type="submit" class="bg-black text-white px-4 py-2 rounded">Send</button>
                            </form>
                          </div>
                          
                          <script type="module">
                            import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
                            import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, doc, deleteDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";
                          
                            // Config Firebase
                            const firebaseConfig = {
                              apiKey: "AIzaSyA3-LSOtMaB9GjOjYVHwIMRY0_yFy1oLY8",
                              authDomain: "noelleliebe.firebaseapp.com",
                              projectId: "noelleliebe",
                              storageBucket: "noelleliebe.firebasestorage.app",
                              messagingSenderId: "1036040325787",
                              appId: "1:1036040325787:web:03ab4366bef27bd607d43e"
                            };
                          
                            const app = initializeApp(firebaseConfig);
                            const db = getFirestore(app);
                            const colRef = collection(db, "messages");
                          
                            if (!localStorage.getItem("anon_id")) {
                              localStorage.setItem("anon_id", crypto.randomUUID());
                            }
                            const anonId = localStorage.getItem("anon_id");
                          
                            const form = document.getElementById("msgForm");
                            form.addEventListener("submit", async (e) => {
                              e.preventDefault();
                              const nick = document.getElementById("nick").value || "Anonymous";
                              const msg = document.getElementById("msg").value.trim();
                              if (!msg) return;
                              await addDoc(colRef, { nick, msg, time: Date.now(), sender: anonId });
                              form.reset();
                            });
                          
                            // Container pesan = test-row di testimonials
                            const messagesDiv = document.querySelector("#testimonials .test-row");
                          
                            const q = query(colRef, orderBy("time", "desc"));
                            onSnapshot(q, (snapshot) => {
                              messagesDiv.innerHTML = ""; // reset container
                              snapshot.forEach((docSnap) => {
                                const d = docSnap.data();
                                const div = document.createElement("div");
                                div.className = "test-item relative"; // style testimonial
                          
                                const canDelete = d.sender === anonId;
                                div.innerHTML = `
                                  <p class="text">${d.msg}</p>
                                  <div class="test-item-info">
                                    <img src="images/default-avatar.jpeg" alt="anon" />
                                    <div>
                                      <h3>${d.nick}</h3>
                                      <p class="text">${new Date(d.time).toLocaleString("en-GB", {
  day: "2-digit",
  month: "2-digit",
  year: "2-digit",
  hour: "2-digit",
  minute: "2-digit",
  hour12: false
}).replace(",", "")}</p>
                                    </div>
                                  </div>
                                  ${canDelete ? `<button data-id="${docSnap.id}" class="delete bg-red-500 text-white px-2 py-1 rounded text-sm absolute right-2 top-2">x</button>` : ""}
                                `;
                          
                                messagesDiv.appendChild(div);
                              });
                          
                              document.querySelectorAll(".delete").forEach((btn) => {
                                btn.addEventListener("click", async () => {
                                  const id = btn.getAttribute("data-id");
                                  await deleteDoc(doc(db, "messages", id));
                                });
                              });
                            });
                          </script>
                          
                        <a href = "#" class = "btn">Send Letters</a>
                    </div>
                </div>
            </div>
        </section>
        <!-- end of services section -->

        <!-- testimonials section -->
        <section id = "testimonials" class = "py-4">
            <div class = "container">
                <div class = "title-wrap">
                    <span class = "sm-title">wall of letters</span>
                    <h2 class = "lg-title">testimonials</h2>
                </div>

                <div class = "test-row">
                    <div class = "test-item">
                        <p class = "text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda blanditiis, asperiores, velit iste eos officiis tempora magni quaerat quo consectetur expedita cum recusandae facere nam voluptate minus iusto eum. Delectus!</p>
                        <div class = "test-item-info">
                            <img src = "images/test-1.jpg" alt = "testimonial">
                            <div>
                                <h3>Kevin Wilson</h3>
                                <p class = "text">Trip to Brazil</p>
                            </div>
                        </div>
                    </div>

                    <div class = "test-item">
                        <p class = "text">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Sed ut dolores tenetur harum deserunt. Maxime tenetur consectetur recusandae nobis fugit iusto natus quibusdam nulla!</p>
                        <div class = "test-item-info">
                            <img src = "images/test-2.jpg" alt = "testimonial">
                            <div>
                                <h3>Ben Davis</h3>
                                <p class = "text">Trip to Maldives</p>
                            </div>
                        </div>
                    </div>

                    <div class = "test-item">
                        <p class = "text">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quidem sapiente amet expedita quae autem deleniti quo magni numquam facilis soluta dicta, praesentium ipsum, quos optio sed quibusdam! Reprehenderit recusandae provident id nemo!</p>
                        <div class = "test-item-info">
                            <img src = "images/test-3.jpg" alt = "testimonial">
                            <div>
                                <h3>Jaura Jones</h3>
                                <p class = "text">Trip to Thailand</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- end of testimonials section -->

        <!-- video section -->
        <section id = "video">
            <div class = "video-wrapper flex">
                <video loop>
                    <source src = "videos/video-section.mp4" type = "video/mp4">
                </video>
                <button type = "button" id = "play-btn">
                    <i class = "fas fa-play"></i>
                </button>
            </div>
        </section>
        <!-- end of video section -->

        <!-- footer -->
        <footer class = "py-4">
            <div class = "container footer-row">
                <div class = "footer-item">
                    <a href = "index.html" class = "site-brand">
                        Noelle<span>Liebe</span>
                    </a>
                    <p class = "text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet voluptates maiores nam vitae iusto. Placeat rem sint voluptas natus exercitationem autem quod neque, odit laudantium reiciendis ipsa suscipit veritatis voluptate.</p>
                </div>

                <div class = "footer-item">
                    <h2>Follow us on: </h2>
                    <ul class = "social-links">
                        <li>
                            <a href = "#">
                                <i class = "fab fa-facebook-f"></i>
                            </a>
                        </li>
                        <li>
                            <a href = "#">
                                <i class = "fab fa-instagram"></i>
                            </a>
                        </li>
                        <li>
                            <a href = "#">
                                <i class = "fab fa-twitter"></i>
                            </a>
                        </li>
                        <li>
                            <a href = "#">
                                <i class = "fab fa-pinterest"></i>
                            </a>
                        </li>
                        <li>
                            <a href = "#">
                                <i class = "fab fa-google-plus"></i>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class = "footer-item">
                    <h2>Popular Places:</h2>
                    <ul>
                        <li><a href = "#">Thailand</a></li>
                        <li><a href = "#">Australia</a></li>
                        <li><a href = "#">Maldives</a></li>
                        <li><a href = "#">Switzerland</a></li>
                        <li><a href = "#">Germany</a></li>
                    </ul>
                </div>

                <div class = "subscribe-form footer-item">
                    <h2>Subscribe for Newsletter!</h2>
                    <form class = "flex">
                        <input type = "email" placeholder="Enter Email" class = "form-control">
                        <input type = "submit" class = "btn" value = "Subscribe">
                    </form>
                </div>
            </div>
        </footer>
        <!-- end of footer -->

        <!-- js -->
        <script src = "js/script.js"></script>
        <script>
            // play/pause video
            let video = document.querySelector('.video-wrapper video');
            document.getElementById('play-btn').addEventListener('click', () => {
                if(video.paused){
                    video.play();
                } else {
                    video.pause();
                }
            });
        </script>
    </body>
</html> 
